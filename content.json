{"posts":[{"title":"Hello World","text":"Welcome to Hexo! This is your very first post. Check documentation for more info. If you get any problems when using Hexo, you can find the answer in troubleshooting or you can ask me on GitHub. Quick StartCreate a new post1$ hexo new &quot;My New Post&quot; More info: Writing Run server1$ hexo server More info: Server Generate static files1$ hexo generate More info: Generating Deploy to remote sites1$ hexo deploy More info: Deployment","link":"/2025/12/15/hello-world/"},{"title":"4.Iris与集成学习","text":"摘要第四次机器学习课程实验，仅供参考，不保证代码及实验结果正确性。 title: 4.Iris与集成学习date: 2025-12-16 00:01:21tags: 机器学习实验 将数据集按7：3 的比例随机划分为训练集和验证集，随机数生成器种子为学号后三位数431，并输出训练集和验证集前10行数据； 1234567891011121314151617181920212223242526from sklearn.datasets import load_irisfrom sklearn.model_selection import train_test_splitimport pandas as pd# 加载数据集data = load_iris()X = data.datay = data.target# 划分训练集和验证集（7:3比例）X_train, X_val, y_train, y_val = train_test_split( X, y, test_size=0.3, random_state=431)# 组合特征和标签，并添加列名columns = data.feature_names + [&apos;target&apos;]train_data = pd.DataFrame(X_train, columns=data.feature_names)train_data[&apos;target&apos;] = y_trainval_data = pd.DataFrame(X_val, columns=data.feature_names)val_data[&apos;target&apos;] = y_val# 输出结果print(&quot;训练集前10行数据：&quot;)print(train_data.head(10))print(&quot;\\n验证集前10行数据：&quot;)print(val_data.head(10)) &lt;font size=1&gt;训练集前10行数据： sepal length (cm) sepal width (cm) petal length (cm) petal width (cm) \\ 0 4.7 3.2 1.6 0.2 1 6.5 3.0 5.5 1.8 2 4.9 3.1 1.5 0.1 3 5.6 3.0 4.5 1.5 4 5.0 3.4 1.5 0.2 5 5.8 2.6 4.0 1.2 6 4.9 2.4 3.3 1.0 7 4.6 3.2 1.4 0.2 8 5.7 2.6 3.5 1.0 9 5.4 3.9 1.3 0.4 target 0 0 1 2 2 0 3 1 4 0 5 1 6 1 7 0 8 1 9 0 验证集前10行数据： sepal length (cm) sepal width (cm) petal length (cm) petal width (cm) \\ 0 5.4 3.7 1.5 0.2 1 6.7 3.3 5.7 2.5 2 5.0 2.0 3.5 1.0 3 5.1 3.5 1.4 0.3 4 4.4 3.0 1.3 0.2 5 4.7 3.2 1.3 0.2 6 6.4 2.9 4.3 1.3 7 4.4 3.2 1.3 0.2 8 5.7 3.0 4.2 1.2 9 5.1 3.3 1.7 0.5 target 0 0 1 2 2 1 3 0 4 0 5 0 6 1 7 0 8 1 9 0 在训练集上训练决策树模型，生成如下的决策树边界 12345678910111213141516171819202122232425262728293031323334353637383940414243444546474849505152535455565758596061626364656667686970717273747576777879from sklearn.tree import DecisionTreeClassifierimport numpy as npimport matplotlib.pyplot as pltfrom matplotlib.colors import ListedColormap# 设置字体为支持中文的字体plt.rcParams[&apos;font.sans-serif&apos;] = [&apos;SimHei&apos;] # 指定中文字体为黑体plt.rcParams[&apos;axes.unicode_minus&apos;] = False # 解决负号显示问题# 选择用于绘制的特征：花瓣长度（第3列）和花瓣宽度（第4列）X_train_petal = X_train[:, [2, 3]]X_val_petal = X_val[:, [2, 3]]# 训练决策树模型（使用花瓣特征）max_depth = 3tree_clf = DecisionTreeClassifier(max_depth=max_depth, random_state=431)tree_clf.fit(X_train_petal, y_train)# 生成网格数据x_min, x_max = 0, 7.2y_min, y_max = 0, 3xx, yy = np.meshgrid(np.linspace(x_min, x_max, 100), np.linspace(y_min, y_max, 100))# 预测整个网格的类别Z = tree_clf.predict(np.c_[xx.ravel(), yy.ravel()])Z = Z.reshape(xx.shape)# 创建颜色映射custom_cmap = ListedColormap([&apos;#fafab0&apos;, &apos;#9898ff&apos;, &apos;#a0faa0&apos;])# 绘制决策边界plt.figure(figsize=(10, 6))plt.contourf(xx, yy, Z, alpha=0.3, cmap=custom_cmap)# 绘制训练数据点markers = (&apos;o&apos;, &apos;s&apos;, &apos;^&apos;)for idx, marker in zip(range(3), markers): plt.scatter(X_train_petal[y_train == idx, 0], X_train_petal[y_train == idx, 1], marker=marker, label=f&quot;{data.target_names[idx]} (train)&quot;)# 提取决策树阈值def get_thresholds(tree): thresholds = [] features = [] stack = [0] # 从根节点开始 while stack: node_id = stack.pop() if tree.children_left[node_id] != tree.children_right[node_id]: thresholds.append(tree.threshold[node_id]) features.append(tree.feature[node_id]) stack.append(tree.children_left[node_id]) stack.append(tree.children_right[node_id]) return thresholds, featuresthresholds, features = get_thresholds(tree_clf.tree_)# 绘制决策边界线line_styles = [&apos;-&apos;, &apos;--&apos;, &apos;:&apos;]for i, (th, feat) in enumerate(zip(thresholds, features)): if feat == 0: # 花瓣长度 plt.plot([th, th], [y_min, y_max], linestyle=line_styles[i%3], color=&apos;k&apos;, linewidth=2) elif feat == 1: # 花瓣宽度 plt.plot([x_min, x_max], [th, th], linestyle=line_styles[i%3], color=&apos;k&apos;, linewidth=2)# 添加标注和美化plt.title(f&quot;决策树(最大深度={max_depth})边界 电信2206赵连政0122209360431&quot;)plt.xlabel(&quot;Petal length (cm)&quot;)plt.ylabel(&quot;Petal width (cm)&quot;)plt.axis([x_min, x_max, y_min, y_max])plt.legend(loc=&quot;upper left&quot;)plt.grid(True, alpha=0.2)plt.show() 在训练集上训练Bagging（基学习器自选）和随机森林模型，基学习器个数为100，输出决策边界图，并分析结果差异； 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051525354555657585960616263646566676869707172737475from sklearn.ensemble import BaggingClassifier, RandomForestClassifierimport matplotlib.pyplot as pltimport numpy as npfrom matplotlib.colors import ListedColormap# 设置基础参数n_estimators = 100max_depth = 3 # 保持与之前决策树相同深度random_seed = 431# 初始化模型bagging_clf = BaggingClassifier( DecisionTreeClassifier(max_depth=max_depth), n_estimators=n_estimators, random_state=random_seed)rf_clf = RandomForestClassifier( n_estimators=n_estimators, max_depth=max_depth, random_state=random_seed)# 训练模型bagging_clf.fit(X_train_petal, y_train)rf_clf.fit(X_train_petal, y_train)# 创建网格数据x_min, x_max = 0, 7.2y_min, y_max = 0, 3xx, yy = np.meshgrid(np.linspace(x_min, x_max, 100), np.linspace(y_min, y_max, 100))# 定义可视化函数def plot_decision_boundary(clf, title, ax): # 预测网格 Z = clf.predict(np.c_[xx.ravel(), yy.ravel()]).reshape(xx.shape) # 绘制决策边界 custom_cmap = ListedColormap([&apos;#fafab0&apos;, &apos;#9898ff&apos;, &apos;#a0faa0&apos;]) ax.contourf(xx, yy, Z, alpha=0.3, cmap=custom_cmap) ax.contour(xx, yy, Z, cmap=&quot;YlGn&quot;, alpha=0.8 ) # 绘制训练数据点 markers = (&apos;o&apos;, &apos;s&apos;, &apos;^&apos;) for idx, marker in enumerate(markers): ax.scatter(X_train_petal[y_train == idx, 0], X_train_petal[y_train == idx, 1], marker=marker, label=data.target_names[idx]) # 美化设置 ax.set_title(title) ax.set_xlabel(&quot;Petal length (cm)&quot;) ax.set_ylabel(&quot;Petal width (cm)&quot;) ax.axis([x_min, x_max, y_min, y_max]) ax.legend(loc=&quot;upper left&quot;) ax.grid(True, alpha=0.2)# 创建对比图plt.figure(figsize=(18, 6))plt.suptitle(&apos;电信2206赵连政0122209360431&apos;, fontsize=16, fontweight=&apos;bold&apos;, y=1.05)# Bagging决策边界ax1 = plt.subplot(1, 2, 1)plot_decision_boundary(bagging_clf, &quot;Bagging (100 Decision Trees)&quot;, ax1)# 随机森林决策边界ax2 = plt.subplot(1, 2, 2)plot_decision_boundary(rf_clf, &quot;随机森林 (100 Trees)&quot;, ax2)plt.tight_layout()plt.show()# 验证集准确率对比print(f&quot;Bagging验证集准确率: {bagging_clf.score(X_val_petal, y_val):.3f}&quot;)print(f&quot;随机森林验证集准确率: {rf_clf.score(X_val_petal, y_val):.3f}&quot;) Bagging验证集准确率: 0.978 随机森林验证集准确率: 0.956 分别计算决策树、Bagging（基学习器自选）和随机森林模型在Iris数据集上三分类的混淆矩阵，并对三种算法的输出结果进行比较. 123456789101112131415161718192021222324252627282930313233343536373839404142434445464748495051# 计算混淆矩阵def print_confusion_matrix(y_true, y_pred, model_name): cm = confusion_matrix(y_true, y_pred) print(f&quot;{model_name} 混淆矩阵:&quot;) print(cm) print(f&quot;{model_name} 分类报告:&quot;) print(classification_report(y_true, y_pred)) return cm# 绘制混淆矩阵def plot_confusion_matrix(cm, model_name, ax): im = ax.imshow(cm, interpolation=&apos;nearest&apos;, cmap=plt.cm.Blues) ax.set_title(f&quot;{model_name} 混淆矩阵&quot;) tick_marks = np.arange(len(data.target_names)) ax.set_xticks(tick_marks) ax.set_yticks(tick_marks) ax.set_xticklabels(data.target_names) ax.set_yticklabels(data.target_names) ax.set_xlabel(&apos;预测标签&apos;) ax.set_ylabel(&apos;真实标签&apos;) # 添加数值标签 for i in range(len(data.target_names)): for j in range(len(data.target_names)): ax.text(j, i, cm[i, j], ha=&apos;center&apos;, va=&apos;center&apos;, color=&apos;white&apos; if cm[i, j] &gt; cm.max() / 2 else &apos;black&apos;) return im# 计算并打印混淆矩阵cm_tree = print_confusion_matrix(y_val, y_pred_tree, &quot;决策树&quot;)cm_bagging = print_confusion_matrix(y_val, y_pred_bagging, &quot;Bagging&quot;)cm_rf = print_confusion_matrix(y_val, y_pred_rf, &quot;随机森林&quot;)# 绘制混淆矩阵fig = plt.figure(figsize=(18, 8))gs = gridspec.GridSpec(1, 3)ax0 = fig.add_subplot(gs[0, 0])ax1 = fig.add_subplot(gs[0, 1])ax2 = fig.add_subplot(gs[0, 2])plot_confusion_matrix(cm_tree, &quot;决策树&quot;, ax0)plot_confusion_matrix(cm_bagging, &quot;Bagging&quot;, ax1)plot_confusion_matrix(cm_rf, &quot;随机森林&quot;, ax2)# 添加水平颜色条cax = fig.add_axes([0.3, 0.15, 0.4, 0.03]) # 调整位置和大小fig.colorbar(plt.cm.ScalarMappable(cmap=plt.cm.Blues), cax=cax, orientation=&apos;horizontal&apos;)plt.tight_layout(rect=[0, 0.2, 1, 1]) # 调整布局以避免颜色条重叠plt.show() 决策树 混淆矩阵: [[19 0 0] [ 0 10 1] [ 0 1 14]] 决策树 分类报告: precision recall f1-score support 0 1.00 1.00 1.00 19 1 0.91 0.91 0.91 11 2 0.93 0.93 0.93 15 accuracy 0.96 45 macro avg 0.95 0.95 0.95 45 weighted avg 0.96 0.96 0.96 45 Bagging 混淆矩阵: [[19 0 0] [ 0 10 1] [ 0 0 15]] Bagging 分类报告: precision recall f1-score support 0 1.00 1.00 1.00 19 1 1.00 0.91 0.95 11 2 0.94 1.00 0.97 15 accuracy 0.98 45 macro avg 0.98 0.97 0.97 45 weighted avg 0.98 0.98 0.98 45 随机森林 混淆矩阵: [[19 0 0] [ 0 10 1] [ 0 1 14]] 随机森林 分类报告: precision recall f1-score support 0 1.00 1.00 1.00 19 1 0.91 0.91 0.91 11 2 0.93 0.93 0.93 15 accuracy 0.96 45 macro avg 0.95 0.95 0.95 45 weighted avg 0.96 0.96 0.96 45 C:\\Users\\86182\\AppData\\Local\\Temp\\ipykernel_11464\\1982013248.py:50: UserWarning: This figure includes Axes that are not compatible with tight_layout, so results might be incorrect. plt.tight_layout(rect=[0, 0.2, 1, 1]) # 调整布局以避免颜色条重叠","link":"/2025/12/18/4-Iris%E4%B8%8E%E9%9B%86%E6%88%90%E5%AD%A6%E4%B9%A0/"}],"tags":[{"name":"test1","slug":"test1","link":"/tags/test1/"},{"name":"test2","slug":"test2","link":"/tags/test2/"}],"categories":[{"name":"test3","slug":"test3","link":"/categories/test3/"},{"name":"test4","slug":"test3/test4","link":"/categories/test3/test4/"}],"pages":[{"title":"","text":"🎈🎈微笑墙🎈🎈 彭小苒 唐艺昕 李一桐 gakki 图片搜集于互联网，侵权请留言，马上处理😊。","link":"/album/index.html"},{"title":"","text":"申请友链须知 原则上只和技术类博客交换，但不包括含有和色情、暴力、政治敏感的网站。 不和剽窃、侵权、无诚信的网站交换，优先和具有原创作品的网站交换。 申请请提供：站点名称、站点链接、站点描述、logo或头像（不要设置防盗链）。 排名不分先后，刷新后重排，更新信息后请留言告知。 会定期清理很久很久不更新的、不符合要求的友链，不再另行通知。 本站不存储友链图片，如果友链图片换了无法更新。图片裂了的会替换成默认图，需要更换的请留言告知。 本站友链信息如下，申请友链前请先添加本站信息： 网站图标：https://removeif.github.io/images/avatar.jpg 网站名称：辣椒の酱 网站地址：https://removeif.github.io 网站简介：后端开发，技术分享 加载中，稍等几秒...","link":"/friend/index.html"},{"title":"","text":"碎碎念 tips：github登录后按时间正序查看、可点赞加❤️、本插件地址..「+99次查看」 碎碎念加载中，请稍等... $.getScript(\"/js/gitalk_self.min.js\", function () { var gitalk = new Gitalk({ clientID: '46a9f3481b46ea0129d8', clientSecret: '79c7c9cb847e141757d7864453bcbf89f0655b24', id: '666666', repo: 'issue_database', owner: 'removeif', admin: \"removeif\", createIssueManually: true, distractionFreeMode: false }); gitalk.render('comment-container1'); });","link":"/self-talking/index.html"},{"title":"","text":"个人简介 分享很喜欢的老罗的一段话： “每一个生命来到世间都注定改变世界，别无选择。要么变得好一点，要么变得坏一点。你如果走进社会为了生存为了什么不要脸的理由，变成了一个恶心的成年人社会中的一员，那你就把这个世界变得恶心了一点点。如果你一生刚正不阿，如果你一生耿直，没有做任何恶心的事情，没做对别人有害的事情，一辈子拼了老命勉强把自己身边的几个人照顾好了，没有成名没有发财，没有成就伟大的事业，然后耿着脖子一生正直，到了七八十岁耿着脖子去世了。你这一生是不是没有改变世界？你还是改变世界了，你把这个世界变得美好了一点点。因为世界上又多了一个好人。“ 善恶终有报,天道好轮回。不信抬头看,苍天饶过谁。无论何时何地，我们都要保持一颗积极乐观、善良感恩的心。但行好事莫问前程，永远年轻，永远热内盈眶，永远保持正能量。💪💪💪💪💪💪冲鸭！！！！ -&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;个人信息：计算机科学与技术专业从事JAVA后端开发码畜一枚坚信代码改变世界 博客信息 网站采用的Icarus主题 追求尽可能的简洁，清晰，易用。 在Icarus主题之上进行了部分修改。 更新日志：–2020.09.20：icarus4.0适配–2020.01.18：icarus3.0适配–2019.11.17：增加深色主题开关–2019.10.30：去图，精简卡片–2019.10.22：改版部分显示，优化速度–2019.10.16：文章列表加上评论数显示–2019.10.13：改版评论–2019.09.25：图片、资源接入CDN免费jsDelivr、文章加入置顶–2019.09.19：开源博客代码–2019.09.19：修改布局，拉伸布局，更宽的展示–2019.09.18：修改友链ui为一行三个，并适配移动端，暗黑模式文章增加评论链接，增加留言链接–2019.09.14：增加精简next主题–2019.09.14：利用中秋节放假，重做了首页的热门推荐、加个widget最新评论框、归档页加入文章贡献概览面板 本站推荐索引 博客主题相关 github Issue 作为博客微型数据库的应用 github page网站cdn优化加速 博客源码分享 博客换肤的一种实现方式思路 博客中gitalk最新评论的获取 博客图片上传picgo工具github图传使用 安装、部分配置icarus主题中文版 技术知识点 Java并发知识点 法律法规 法律法规数据库 中华人民共和国国旗法 中华人民共和国宪法 中华人民共和国消费者权益保护法 中华人民共和国刑事诉讼法 中华人民共和国婚姻法 中华人名共和国网络安全法 中华人民共和国劳动法 其他 网易云音乐歌单分享 计划2020计划 2019.12.31 2020-GOALS 跑两三场马拉松 2019计划 2018.12.31/21:59:00-&gt;更新于2019.12.31 2019-GOALS 购买的专业书籍至少看完一遍（并发、重构、设计模式…）-&gt; 95%额外： 追了很多剧总结： 有优点有缺点，没坚持下来的还是太多，追了太多剧。以后多学习，多思考！ 时间轴记录","link":"/about/index.html"},{"title":"","text":"来而不往非礼也畅所欲言，有留必应","link":"/message/index.html"},{"title":"音乐歌单收藏","text":"温馨提示：选择喜欢的音乐双击播放，由于版权原因部分不能播放。如果喜欢歌单收藏一下，去网易云都能播放哟！","link":"/music/index.html"},{"title":"","text":"&nbsp;&nbsp;听听音乐 音乐播放器由mePlayer提供，布局参照网友博客所作，感谢作者的辛勤付出。更多音乐分享请查看歌单。 &nbsp;&nbsp;看看视频 ->点击以下条目开始播放视频,向下滑动查看更多","link":"/media/index.html"}]}